# _**CPGANA-toolkit**_
######_**Chloroplast Genome Analysis toolkit**_
![CPGANA-toolkit-icon](./data/cpgana.png)

#注意！本项目包含其他第三方程序！详见third-party文件夹。

## 目录
1. [介绍](#介绍--introduction)
2. [特性](#特性--features)
3. [安装](#安装--installation)
    - [要求](#要求--requirements)
    - [下载与安装](#安装--installation)
4. [使用指南](#使用指南--usage-guide)
5. [贡献](#贡献--contributing)
6. [联系](#联系--contact)
7. [许可证](#许可证--license)
8. [版本历史](#版本历史--changelog)

## 介绍
叶绿体基因组学对于理解植物进化和生物多样性至关重要，但用户友好的分析工具稀缺。现有软件往往缺乏集成，阻碍了高效的数据分析和可视化。许多工具依赖于命令行界面，这对习惯于图形界面的研究人员来说是一个挑战。为了解决这些问题，我们开发了CPGANA工具包。该软件集成了叶绿体基因组分析和可视化的必要工具，并具有用户友好的图形界面，提供了一个便利的平台以加速叶绿体基因组学研究。

## 特性
- 序列分析工具，如注释文件信息提取，四倍区搜索与GC含量统计，序列方向调整和简单格式转换工具。
- 简单重复序列（SSR）分析，包含长度、重复类型和位置类型的统计，支持条形图和南丁格尔玫瑰图等可视化工具。
- 相对同义密码子使用（RSCU）分析，用于计算和可视化密码子使用模式。
- 基于滑动窗口或基因间区的核苷酸多样性（Pi）计算和绘图。
- 选择压力分析工作流程，包括共有CDS提取、基于密码子单位的多线程的简单比对工具、格式转换工具和热图生成工具。
- 简单嵌入式浏览器，用于集成外部资源和在线工具，如NCBI、OGDraw和MISA。
- 可停靠的控制台输出和分层文件浏览器，提供实时反馈和便捷的数据管理。
- 用户界面具有主题和墙纸切换功能。

## 安装
在一台“普通”台式计算机上，安装 CPGANA 工具包通常需要 10-20 分钟，具体时间取决于网络速度和计算机性能。

CPGANA-toolkit不需要任何非标准硬件
### 要求
1. **系统要求**: 确保您的计算机运行 Windows 7 及以上版本或 Ubuntu 22.04。
2. **依赖**：如果你直接使用Python代码，你需要安装以下依赖：
- pyqt5==5.15.10
- matplotlib == 3.5.0
- seaborn==0.13.2
- Bio==1.6.2
- numpy==1.22.4
- PyQtWebEngine==5.15.6

### 下载与安装
1. **（推荐）使用Windows可执行程序（.exe）**: 我们使用Pyinstaller将Python代码打包成.exe程序，并打包成了.msi，便于安装。进入Release界面，直接下载最新版本的.msi文件，已经配备了清晰的安装流程。

2. （不推荐）使用Python代码: 从 GitHub 上下载 CPGANA 工具包代码并运行。
```bash
git clone https://github.com/Akakk1/CPGANA-toolkit.git
cd CPGANA-toolkit
```
- 如果使用的是 Windows:
 - 安装 Python 3.9.6 或更新版本。
 - 使用 pip 安装依赖项:
	```bash
	pip install -r requirements.txt
	```
- 如果使用的是 Ubuntu:
 - 安装 Python 3.9.6 或更新版本:
	```bash
	sudo apt update
	sudo apt install python3.9
	```
 - 使用 pip 安装依赖项:
	```bash
	pip install -r requirements.txt
    ```
- 运行软件: 安装完成后，使用以下命令启动 CPGANA-toolkit:
```bash
python main.py
```

## 使用指南
在一台“普通”台式计算机上，运行完整的演示通常需要 30 分钟，具体时间取决于数据集大小和计算机性能。

当然，这建立在认真阅读用户手册的基础上。

- 准备演示数据: 下载或准备一份示例数据集，确保其格式符合 CPGANA 的要求。你可以使用仓库中已经提供的示例数据。
- 运行：根据用户手册，进行使用。
- 查看结果: 演示运行完成后，您可以在输出目录中查看分析结果。
- [用户手册](UserManual_ZH.pdf)

## 贡献
如果你想贡献代码或报告问题，请在 GitHub 上直接报告，或通过电子邮件取得联系。
报告问题时，请具体说明在运行哪一步时出现了问题，这有助于我们定位错误。

## 联系
如果需要帮助，或者本项目侵犯了您的合法权益，请通过以下方式联系我们：
- 电子邮件: `lajbaj149@gmail.com`

## 许可证
该软件根据以下许可证分发：  
- [Apache License Version 2.0, January 2004](LICENSE.md)

## 版本历史
### 版本1.0.0 - 2024.6.26
- 首次提交的初始版本

### 版本1.1.0 - 2024.7.3
- 修复
 - 计算共有基因Pi值存在报错，已经修复
- 优化
 - 优化Ka/Ks的绘图功能。添加了一个简单的线性插值的归一化算法。并添加配色选择功能。
 - 优化Pi绘图功能。现在可以正常调整输出图像的DPI值，可以设定图的长宽。
 - 优化SSR绘图功能。优化了柱形图和横坐标错位的情况。还优化了堆积图的颜色映射和界面，使用选项卡将不同的参数整理归类。
 - 优化Ka/Ks工作流程中的序列比对，使用多线程加快速度。
- 功能追加
 - 添加了KaKs结果的统计和过滤功能。
